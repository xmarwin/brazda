<please-wait></please-wait>
<div>
    <div class="row form-group">
        <div class="col-xs-6 col-sm-8 col-md-9 col-lg-9">
            <h1>Stanoviště</h1>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-3 col-lg-3 text-right">
            <button type="button" ng-click="ctrl.toggleFilter()" class="btn btn-primary" ng-class="{ 'active': ctrl.showFilter }"><i class="fa fa-filter" aria-hidden="true"></i><span class="hidden-xs"> Filtr</span></button>
            <button type="button" ng-click="ctrl.refresh()" class="btn btn-primary"><i class="fa fa-refresh" aria-hidden="true"></i><span class="hidden-xs"> Aktualizovat</span></button>
        </div>
    </div>
    <div ng-show="ctrl.showFilter">
        <div class="row form-group">
            <div class="col-xs-3 col-sm-1 col-md-1 col-lg-1">
                Stav:
            </div>
            <div class="col-xs-9 col-sm-2 col-md-2 col-lg-2">
                <select ng-model="ctrl.filter.state" class="form-control" ng-change="ctrl.filter()">
                    <option value="">Vše</option>
                    <option value="notFound">Nenalezené</option>
                    <option value="found">Nalezené</option>
                </select>
            </div>
            <div class="col-xs-3 col-sm-1 col-md-1 col-lg-1">
                Typ:
            </div>
            <div class="col-xs-9 col-sm-2 col-md-2 col-lg-2">
                <select ng-options="postType.name for postType in ctrl.postTypes" ng-model="ctrl.filter.postType" class="form-control" ng-change="ctrl.filter()">
                    <option value="">Vše</option>
                </select>
            </div>
            <div class="col-xs-3 col-sm-1 col-md-1 col-lg-1">
                Barva:
            </div>
            <div class="col-xs-9 col-sm-2 col-md-2 col-lg-2">
                <select ng-options="postColor.name for postColor in ctrl.postColors" ng-model="ctrl.filter.color" class="form-control" ng-change="ctrl.filter()">
                    <option value="">Vše</option>
                </select>
            </div>
            <div class="col-xs-9 col-sm-2 col-md-2 col-lg-2">
                <button type="button" ng-click="ctrl.resetFilter()" class="btn btn-default"><i class="fa fa-eraser" aria-hidden="true"></i><span class="hidden-xs"> Odstranit filtry</span></button>
            </div>
        </div>
    </div>
    <table class="post-list">
        <tbody ng-repeat="postItem in ctrl.postsFiltered">
            <tr>
                <td rowspan="2" style="width: 36px">
                    <i class="fa fa-check fa-2x" style="color: green" aria-hidden="true" ng-show="postItem.isDone===true"></i>
                    <i class="fa fa-unlock-alt fa-2x" style="color: green" aria-hidden="true" ng-show="postItem.isUnlocked===true && postItem.isDone===false"></i>
                </td>

                <td rowspan="2" style="width: 36px; background-color: {{postItem.colorCode}}; text-align: center; border-bottom: 1px solid lightgrey;">
                    <i class="fa fa-2x fa-question-circle-o" aria-hidden="true" ng-show="postItem.postType==='CIP'"></i>
                    <i class="fa fa-2x fa-compass" aria-hidden="true" ng-show="postItem.postType==='ACT'"></i>
                    <i class="fa fa-2x fa-archive" aria-hidden="true" ng-show="postItem.postType==='CGC'"></i>
                    <i class="fa fa-2x fa-gift" aria-hidden="true" ng-show="postItem.postType==='BON'"></i>
                    <i class="fa fa-2x fa-play" aria-hidden="true" ng-show="postItem.postType==='BEG'"></i>
                    <i class="fa fa-2x fa-flag-checkered" aria-hidden="true" ng-show="postItem.postType==='END'"></i>
                </td>
                <td rowspan="2" style="border-bottom: 1px solid lightgrey;">
                    <h4>
                        <a href="#/postDetail/{{postItem.post}}">{{postItem.name}}</a>
                    </h4>
                </td>
                <td>
                    T<span class="hidden-xs">erén</span>: {{postItem.terrain}}
                </td>

                <td ng-show="postItem.cacheSize === 'M'">V<span class="hidden-xs">elikost</span>: <img src="../assets/images/micro.gif" title="Micro" /></td>
                <td ng-show="postItem.cacheSize === 'S'">V<span class="hidden-xs">elikost</span>: <img src="../assets/images/small.gif" title="Small" /></td>
                <td ng-show="postItem.cacheSize === 'R'">V<span class="hidden-xs">elikost</span>: <img src="../assets/images/regular.gif" title="Regular" /></td>
                <td ng-show="postItem.cacheSize === 'L'">V<span class="hidden-xs">elikost</span>: <img src="../assets/images/large.gif" title="Large" /></td>
                <td ng-show="postItem.cacheSize === 'O'">V<span class="hidden-xs">elikost</span>: <img src="../assets/images/other.gif" title="Other" /></td>

                <td>B<span class="hidden-xs">ody</span>: {{postItem.maxScore}}</td>
            </tr>
            <tr>
                <td style="border-bottom: 1px solid lightgrey;">
                    O<span class="hidden-xs">btížnost</span>: {{postItem.difficulty}}
                </td>

                <td style="border-bottom: 1px solid lightgrey;" ng-show="postItem.cacheType === 'TRA'">T<span class="hidden-xs">yp</span>: <img src="../assets/images/traditional_16.gif"></td>
                <td style="border-bottom: 1px solid lightgrey;" ng-show="postItem.cacheType === 'MLT'">T<span class="hidden-xs">yp</span>: <img src="../assets/images/multi_16.gif"></td>
                <td style="border-bottom: 1px solid lightgrey;" ng-show="postItem.cacheType === 'LET'">T<span class="hidden-xs">yp</span>: <img src="../assets/images/letterbox_16.gif"></td>
                <td style="border-bottom: 1px solid lightgrey;" ng-show="postItem.cacheType === 'MYS'">T<span class="hidden-xs">yp</span>: <img src="../assets/images/unknown_16.gif"></td>
                <td style="border-bottom: 1px solid lightgrey;" ng-show="postItem.cacheType === 'ERT'">T<span class="hidden-xs">yp</span>: <img src="../assets/images/earthcache_16.gif"></td>
                <td style="border-bottom: 1px solid lightgrey;" ng-show="postItem.cacheType === 'WIG'">T<span class="hidden-xs">yp</span>: <img src="../assets/images/wherigo_16.gif"></td>
                <td style="border-bottom: 1px solid lightgrey;" ng-show="postItem.cacheType == null || postItem.cacheType === ''">T<span class="hidden-xs">yp</span>: -</td>


                <td style="border-bottom: 1px solid lightgrey;">I<span class="hidden-xs">ndicie</span>: {{ postItem.isDone === true ? postItem.shibboleth: '-'}}</td>
            </tr>
        </tbody>
    </table>
    <hr />
    <div>
        <a type="button" class="btn btn-primary" target="_blank" ng-href="/api/gpx/all?securityToken={{ctrl.securityToken}}"><i class="fa fa-download" aria-hidden="true"></i> GPX všech stanovišť</a>
    </div>
</div>
